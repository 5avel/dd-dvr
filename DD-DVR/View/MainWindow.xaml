<Controls:MetroWindow x:Class="DD_DVR.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:Controls="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
        xmlns:local="clr-namespace:DD_DVR"
        xmlns:viewModel="clr-namespace:DD_DVR.ViewModel"
        xmlns:converter="clr-namespace:DD_DVR.View.ValueConverters"
        d:DataContext="{d:DesignInstance Type=viewModel:MainViewModel, IsDesignTimeCreatable=False}"

        mc:Ignorable="d"
        Title="DD-DVR"
        MinHeight="600"
        MinWidth="800">
    <Window.Resources>
        <ResourceDictionary>
            <converter:HeightToWidth3x4ValueConverter x:Key="HeightToWidth3x4ValueConverter" />
        </ResourceDictionary>
    </Window.Resources>
    <Window.DataContext>
        <viewModel:MainViewModel/>
    </Window.DataContext>

    <Window.InputBindings>
        <KeyBinding Key="W" Modifiers="" CommandParameter="W" Command="{Binding Test}"/>
        <KeyBinding Key="S" Modifiers="" CommandParameter="S" Command="{Binding Test}"/>
        <KeyBinding Key="A" Modifiers="" CommandParameter="A" Command="{Binding Test}"/>
        <KeyBinding Key="D" Modifiers="" CommandParameter="D" Command="{Binding Test}"/>
        <KeyBinding Key="E" Modifiers="" CommandParameter="E" Command="{Binding Test}"/>
        <KeyBinding Key="Q" Modifiers="" CommandParameter="Q" Command="{Binding Test}"/>

        <KeyBinding Key="Space" Modifiers="" CommandParameter="Space" Command="{Binding Test}"/>
    </Window.InputBindings>

    <Controls:MetroWindow.RightWindowCommands>
        <Controls:WindowCommands>
            <Button Content="Видео" />
            <Button Content="Отчёты" />
            <Button Content="Настройки" />
        </Controls:WindowCommands>
    </Controls:MetroWindow.RightWindowCommands>
    <Grid Name="MainGrid">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="auto"/>
            <ColumnDefinition MinWidth="200" Width="*"/>
        </Grid.ColumnDefinitions>

        <Border Grid.Column="0" Width="{Binding Path=ActualHeight, Converter={StaticResource HeightToWidth3x4ValueConverter}, RelativeSource={RelativeSource Self}}">
            <Frame Source="/DD-DVR;component/View/VideoView.xaml" HorizontalAlignment="Stretch"
                VerticalAlignment="Stretch" NavigationUIVisibility="Hidden" />
        </Border>
    </Grid>
</Controls:MetroWindow>
